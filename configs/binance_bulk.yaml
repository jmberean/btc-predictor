seed: 42

data:
  source: binance_bulk
  exchange: binance
  symbol: BTCUSDT
  timeframe: 1h
  start: "2018-01-01"
  end: "2025-12-31"
  ohlcv_delay_minutes: 5
  timezone: UTC
  binance_bulk:
    klines_path: ["data/binance/data/spot/monthly/klines/BTCUSDT/1h", "data/binance/data/spot/daily/klines/BTCUSDT/1h"]
    timeframe: 1h

features:
  base_frequency: 1h
  lags: [1, 2, 3, 6, 12, 24, 48]
  rolling_windows: [6, 12, 24, 72, 168, 336]
  rsi_window: 14
  atr_window: 14
  regime_window: 336
  lookback_window: 96

targets:
  horizons: ["1h", "2h", "3h", "4h", "5h", "6h", "7h", "8h", "9h", "10h", "11h", "12h"]
  target: log_return
  mode: "zscore"
  vol_window: 168

training:
  models: [naive, arima, garch, lightgbm, lstm, nbeats]
  quantiles: [0.1, 0.5, 0.9]
  walk_forward:
    scheme: expanding
    train_window_days: 730 # 2 Years starting point
    test_window_days: 90
    step_days: 180 # Semi-annual steps (more folds)
    embargo_hours: 168
    purge_hours: 24
  early_stopping_rounds: 100
  max_trials: 80 # High-intensity search
  n_jobs: 4

lightgbm:
  n_estimators: 2000 # Deeper forest
  learning_rate: 0.01
  num_leaves: 255
  min_data_in_leaf: 20
  subsample: 0.8
  colsample_bytree: 0.8

lstm:
  hidden_size: 256 # Larger brain
  num_layers: 3
  dropout: 0.2
  epochs: 100 # More iterations
  batch_size: 64
  lr: 0.0005

nbeats:
  hidden_size: 1024 # High resolution
  num_blocks: 5
  num_layers: 4
  dropout: 0.1
  epochs: 100 # More iterations
  batch_size: 64
  lr: 0.0005

external_data:
  funding_rate:
    path: data/binance/data/futures/um/monthly/fundingRate/BTCUSDT
    delay_minutes: 10
  mark_price_klines:
    path: data/binance/data/futures/um/monthly/markPriceKlines/BTCUSDT/1h
    timeframe: 1h
    delay_minutes: 2
  index_price_klines:
    path: data/binance/data/futures/um/monthly/indexPriceKlines/BTCUSDT/1h
    timeframe: 1h
    delay_minutes: 2

evaluation:
  run_trading_eval: true
  reliability_bins: 10

trading:
  fee_bps: 5
  slippage_bps: 2
  threshold: 0.0005
